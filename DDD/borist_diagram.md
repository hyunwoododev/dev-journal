
# 보리스 다이어그램 (Borist Diagram)

---

## 1. 보리스 다이어그램의 정의

- 보리스 다이어그램은 **서비스 간의 관계**와 **데이터 흐름**을 시각적으로 나타내는 다이어그램입니다.
- 이벤트 스토밍의 결과물(도메인 이벤트, 바운디드 컨텍스트 등)을 바탕으로 **서비스 간의 통신 방식**과 **의존성**을 설계하는 데 사용됩니다.

---

## 2. 보리스 다이어그램의 주요 목적

1. **서비스 간 의존성 명확화**:
   - 각 서비스가 어떤 데이터를 요청하거나 제공하는지 시각적으로 표현.
2. **통신 방식 정의**:
   - 동기식(Synchronous) 또는 비동기식(Asynchronous) 통신 방식을 명확히 구분.
3. **데이터 흐름 최적화**:
   - 서비스 간 데이터 흐름을 정의하여 병목현상을 방지하고 성능을 최적화.
4. **아키텍처 설계 기준 제공**:
   - 마이크로서비스 설계 및 배포 전략의 기초를 마련.

---

## 3. 보리스 다이어그램의 구성 요소

### 3.1 서비스(Service)
- 시스템에서 독립적으로 동작하는 주요 기능 단위.
- 예: 사용자 서비스, 주문 서비스, 결제 서비스.

### 3.2 서비스 간 연결(Line)
- 서비스 간 통신 방식(동기/비동기)을 나타냄.
- **동기식(Synchronous)**: 요청이 완료될 때까지 대기.
- **비동기식(Asynchronous)**: 즉시 응답 없이 작업 처리.

### 3.3 외부 시스템(External System)
- 시스템 외부의 API, 데이터베이스, 메시지 큐 등과의 통신을 나타냄.
- 예: 결제 게이트웨이, 이메일 알림 시스템.

### 3.4 데이터 흐름(Data Flow)
- 서비스 간 주고받는 데이터의 유형(이벤트, 커맨드 등)과 순서를 정의.

---

## 4. 보리스 다이어그램의 활용 방법

### 4.1 서비스 정의
- 각 바운디드 컨텍스트를 기반으로 서비스 단위를 정의.
- 예: 사용자 도메인은 `사용자 서비스`, 주문 도메인은 `주문 서비스`.

### 4.2 통신 방식 결정
- 서비스 간 데이터를 주고받는 방식(동기/비동기)을 결정.
- 예:
  - 포트폴리오 서비스는 사용자 서비스와 동기식 통신.
  - 주문 서비스는 결제 서비스와 비동기식 통신.

### 4.3 의존성 설계
- 한 서비스가 다른 서비스로부터 데이터를 어떻게 가져오는지 정의.
- 예:
  - 주문 서비스가 사용자 서비스를 호출해 사용자 정보를 가져옴.

### 4.4 데이터 흐름 분석
- 이벤트 흐름을 기준으로 데이터가 어떻게 이동하는지 시각화.

---

## 5. 보리스 다이어그램의 장점

1. **아키텍처 투명성**:
   - 복잡한 서비스 간 관계를 시각적으로 표현하여 이해를 돕습니다.
2. **효율적인 설계**:
   - 데이터 흐름을 최적화하고 병목현상을 방지할 수 있습니다.
3. **문제 탐지 용이성**:
   - 서비스 간 의존성을 분석해 잠재적인 문제를 사전에 발견 가능.
4. **유연한 확장성**:
   - 새로운 서비스 추가 시 기존 의존성을 쉽게 파악하고 조정 가능.

---

## 6. 보리스 다이어그램의 예시

### 사용자 서비스와 주문 서비스 간의 관계
- **서비스 정의**:
  - 사용자 서비스: 사용자 데이터를 관리.
  - 주문 서비스: 주문 생성, 취소, 조회 등의 기능 제공.
- **통신 방식**:
  - 동기식 통신을 사용하여 주문 시 사용자 인증 확인.
- **데이터 흐름**:
  - 주문 생성 시 사용자 정보를 요청하고 결과를 반환.

---

## 7. 결론

보리스 다이어그램은 마이크로서비스 간의 의존성과 데이터 흐름을 시각적으로 표현하여 아키텍처 설계를 돕는 강력한 도구입니다. 이를 통해 서비스 간의 통신 방식을 최적화하고, 문제를 사전에 탐지하며, 확장성을 고려한 설계를 가능하게 합니다.
